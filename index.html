<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Ubos Sa Dagat: The Under Sea</title>

    <!-- Locomotive Scroll CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/locomotive-scroll@4.1.4/dist/locomotive-scroll.min.css" />

    <!-- link style.css -->
    <link rel="stylesheet" href="style.css">
</head>

<body>

    <!-- A fixed background video -->
    <div class="fixedVideo">
        <video autoplay loop></video>
    </div>

    <!-- Autoplay overlay -->
    <div id="autoplay-overlay" class="autoplay-overlay">
        <button id="ready-button" class="ready-button">Ready</button>
    </div>

    <!-- Locomotive Scroll container -->
    <div data-scroll-container>

        <!-- paragraph 0: introducing text -->
        <section data-scroll-section>
            <div data-scroll>
                <p>The premodern archives of the islands known today as the Philippines,</p>
                <p>swim in the archipelagic seas, connected by wires & whispers.</p>
                <p>To prepare the descent, <span class="faded"><i>breathe...</i></span></p>
            </div>
        </section>

        <!-- paragraph 1: regular parallax scroll -->
        <section data-scroll-section>
            <div data-scroll>
                <p>Inhale through your mouth, filling your chest.</p>
                <p>Hold [contradictions]</p>
                <p>Hold [uncertainty]</p>
                <p>Exhale, the <span class="faded">tension.</span></p>
            </div>
        </section>

        <!-- paragraph 2: alternate left/right -->
        <section data-scroll-section>
            <div class="c-direction-block" id="scroll-text-container">
                <p class="c-direction-block_item" data-scroll data-scroll-direction="horizontal" data-scroll-speed="10"
                    data-scroll-target="#scroll-text-container">
                    Inhale through your mouth, filling your chest, expanding your lungs sideways.
                </p>
                <p class="c-direction-block_item" data-scroll data-scroll-direction="horizontal" data-scroll-speed="-10"
                    data-scroll-target="#scroll-text-container">
                    Hold [the edge]
                </p>
                <p class="c-direction-block_item" data-scroll data-scroll-direction="horizontal" data-scroll-speed="10"
                    data-scroll-target="#scroll-text-container">
                    Hold [the limit]
                </p>
                <p class="c-direction-block_item" data-scroll data-scroll-direction="horizontal" data-scroll-speed="-10"
                    data-scroll-target="#scroll-text-container">
                    Hold [the perimeter]
                </p>
                <p class="c-direction-block_item" data-scroll data-scroll-direction="horizontal" data-scroll-speed="10"
                    data-scroll-target="#scroll-text-container">
                    Exhale, the inner, out.
                </p>
            </div>
        </section>

        <section data-scroll-section>
            <div data-scroll-container>
                <!-- blank section... -->
            </div>
        </section>

        <!-- paragraph 3: reverse Scrolling Section -->
        <section data-scroll-section>
            <div class="downward-scroll-container" id="downward-scroll">
                <p data-scroll data-scroll-speed="2" data-scroll-target="#downward-scroll">
                    Inhale through your mouth, filling your chest, expanding your lungs sideways, hitting your
                    diaphragm.
                </p>
                <p data-scroll data-scroll-speed="4" data-scroll-target="#downward-scroll">Hold [memories]</p>
                <p data-scroll data-scroll-speed="6" data-scroll-target="#downward-scroll">Hold [archives]</p>
                <p data-scroll data-scroll-speed="8" data-scroll-target="#downward-scroll">Hold [traditions]</p>
                <p data-scroll data-scroll-speed="10" data-scroll-target="#downward-scroll">Hold [text]</p>
                <p data-scroll data-scroll-speed="12" data-scroll-target="#downward-scroll">Exhale [spacebar].</p>
            </div>
        </section>

        <!-- paragraph 4: dynamic parallax scroll -->
        <section data-scroll-section>
            <div class="dynamic-parallax" id="parallax-2">
                <p data-scroll data-scroll-speed="5" data-scroll-delay="0.1" data-scroll-target="#parallax-2">
                    Inhale through your mouth, filling your chest, expanding your lungs sideways, hitting your
                    diaphragm.
                </p>
                <p data-scroll data-scroll-speed="4" data-scroll-delay="0.2" data-scroll-target="#parallax-2"
                    class="pulse">
                    Hold
                </p>
                <p data-scroll data-scroll-speed="3" data-scroll-delay="0.3" data-scroll-target="#parallax-2"
                    class="pulse">
                    Hold.
                </p>
                <p data-scroll data-scroll-speed="2" data-scroll-delay="0.4" data-scroll-target="#parallax-2"
                    class="pulse">
                    Hold..
                </p>
                <p data-scroll data-scroll-speed="1.5" data-scroll-delay="0.5" data-scroll-target="#parallax-2"
                    class="pulse">
                    Hold...
                </p>
                <p data-scroll data-scroll-speed="1" data-scroll-delay="0.6" data-scroll-target="#parallax-2"
                    class="pulse">
                    Hold.
                </p>
                <p data-scroll data-scroll-speed="8" data-scroll-delay="0.2" data-scroll-target="#parallax-2"
                    class="faded">
                    Exhale.
                </p>
            </div>
        </section>

        <section data-scroll-section>
            <h2 data-scroll>Inhale...</h1>
        </section>


        <section data-scroll-section>
            <div data-scroll>
                <a href="dive.html">dive</a>
            </div>
        </section>


    </div>

    <!-- Locomotive Scroll JS -->
    <script src="https://cdn.jsdelivr.net/npm/locomotive-scroll@4.1.4/dist/locomotive-scroll.min.js"></script>

    <script>
        // Initialize Locomotive Scroll with mobile support
        const scroll = new LocomotiveScroll({
            el: document.querySelector('[data-scroll-container]'),
            smooth: true,
            smartphone: {
                smooth: true,
                horizontalGesture: true,
                breakpoint: 767
            },
            tablet: {
                smooth: true,
                breakpoint: 1024
            }
        });

        // On resize, update the locomotive instance
        window.addEventListener('resize', () => {
            if (scroll) scroll.update();
        });

        // Handle video autoplay
        const video = document.querySelector('.fixedVideo video');
        const overlay = document.getElementById('autoplay-overlay');
        const readyButton = document.getElementById('ready-button');

        // Set video source based on screen width
        function setVideoSource() {
            const isMobile = window.innerWidth <= 767;
            video.src = isMobile ? 'videos/UnderSeaSurface_vertical.mp4' : 'videos/UnderSeaSurface.mp4';
        }

        // Set initial video source
        setVideoSource();

        // Update video source on resize
        window.addEventListener('resize', setVideoSource);

        // Handle play button click
        readyButton.addEventListener('click', () => {
            video.play().then(() => {
                overlay.style.display = 'none';
            }).catch(error => {
                console.log('Error playing video:', error);
            });
        });
    </script>

</body>

</html>